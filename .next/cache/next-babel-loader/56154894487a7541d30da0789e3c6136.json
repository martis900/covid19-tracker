{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/DEV/Desktop/covidweb/pages/index.tsx\",\n    _this2 = this;\n\nvar __jsx = React.createElement;\n//@ts-ignore\nimport React, { useState, useMemo } from 'react';\nimport Layout from '../components/Layout';\nimport dayjs from 'dayjs';\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries';\n\nvar radius = function radius(opa) {\n  var op = opa / 200;\n\n  if (op > 100) {\n    op = 100;\n  }\n\n  if (op < 20) {\n    op *= 3;\n  }\n\n  return op;\n};\n\nvar opacity = function opacity(opa) {\n  var op = opa / 200;\n\n  if (op < 0.3) {\n    op = 0.3;\n  }\n\n  return op;\n};\n\nvar MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage(_ref) {\n  var _this = this;\n\n  var data = _ref.data;\n\n  var _useState = useState({\n    visible: false,\n    location: null\n  }),\n      showPopup = _useState[0],\n      setShowPopup = _useState[1];\n\n  var _useState2 = useState({\n    width: 400,\n    height: 400,\n    latitude: 37.7577,\n    longitude: -122.4376,\n    zoom: 8\n  }),\n      viewport = _useState2[0],\n      setViewport = _useState2[1];\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      padding: 20,\n      color: 'white',\n      flexDirection: 'row',\n      display: 'flex',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: 'calc(100vh - 152px)',\n      paddingLeft: 0,\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"LAST UPDATED - \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 39\n    }\n  }, dayjs(data === null || data === void 0 ? void 0 : data.lastUpdated).format('YYYY-MM-DD HH:mm:ss'))), __jsx(\"ul\", {\n    style: {\n      listStyleType: 'none',\n      margin: 0,\n      padding: 0,\n      height: '100%',\n      overflowY: 'scroll',\n      minWidth: 480,\n      scrollBehavior: 'smooth',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, data.areas.map(function (area) {\n    return (// <li key={area.displayName} style={{ marginBottom: 25, display: 'flex', flexDirection: 'column', background: 'rgb(45,51,70)', padding: 20, borderRadius: 7, color: 'white', fontFamily: 'Roboto', }}>\n      //     <h1 style={{ flex: 2, color: 'white' }}>{area.displayName}</h1>\n      //     <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-around' }}>\n      //         <p style={{ flex: 1, color: 'rgb(252,184,44)', fontSize: 20 }}><b>Confirmed:</b> <br /> {area.totalConfirmed?.toLocaleString('en-US') ?? 0}</p>\n      //         <p style={{ flex: 1, color: 'rgb(50,203,111)', fontSize: 20 }}><b>Recovered:</b> <br />{area.totalRecovered?.toLocaleString('en-US') ?? 0}</p>\n      //         <p style={{ flex: 1, color: 'red', fontSize: 20 }}><b>Deaths:</b> <br />{area.totalDeaths?.toLocaleString('en-US') ?? 0}</p>\n      //     </div>\n      // </li>\n      __jsx(\"li\", {\n        style: {\n          marginBottom: 15\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        style: {\n          borderRadius: 15,\n          width: 25,\n          height: 25,\n          overflow: 'hidden',\n          display: 'flex',\n          background: 'red'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 37\n        }\n      }, __jsx(\"img\", {\n        src: \"https://www.countryflags.io/be/shiny/64.png\",\n        alt: \"123\",\n        style: {\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          objectFit: 'cover'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 41\n        }\n      })))\n    );\n  }))), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      width: '100%',\n      position: 'relative',\n      height: 'calc(100vh - 152px)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, showPopup.visible === true && __jsx(LocationDetails, {\n    showPopup: showPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 52\n    }\n  }), __jsx(ReactMapGL, _extends({}, viewport, {\n    width: \"100vw\",\n    height: \"calc(100vh - 152px)\",\n    mapStyle: \"mapbox://styles/mapbox/dark-v9\",\n    onViewportChange: setViewport,\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    onClick: function onClick() {\n      return setShowPopup({\n        visible: false,\n        location: null\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), __jsx(RenderCountries, {\n    data: data,\n    showPopup: showPopup,\n    setShowPopup: setShowPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }), __jsx(RenderCities, {\n    data: data,\n    showPopup: showPopup,\n    setShowPopup: setShowPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  })))));\n}\n\nvar LocationDetails = function LocationDetails(_ref2) {\n  var _showPopup$region$tot, _showPopup$region$tot2, _showPopup$region$tot3, _showPopup$region$tot4, _showPopup$region$tot5, _showPopup$region$tot6;\n\n  var showPopup = _ref2.showPopup;\n  return __jsx(\"div\", {\n    style: {\n      width: 400,\n      height: 200,\n      position: 'absolute',\n      top: 25,\n      left: 25,\n      backgroundColor: 'white',\n      zIndex: 99999999,\n      padding: 15,\n      borderRadius: 8\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, showPopup.country === true ? __jsx(\"h3\", {\n    style: {\n      color: 'black'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 39\n    }\n  }, showPopup.region.displayName) : __jsx(\"span\", {\n    style: {\n      color: 'black',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 108\n    }\n  }, __jsx(\"h3\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 202\n    }\n  }, showPopup.region.displayName, \" \"), \" \", __jsx(\"label\", {\n    style: {\n      paddingLeft: 8\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 243\n    }\n  }, showPopup.country)), showPopup.country === true && __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'black',\n      fontSize: 12\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 40\n    }\n  }, __jsx(\"b\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 93\n    }\n  }, \"Population:\"), \"  \", getPopulation(showPopup.region.displayName).toLocaleString('en-US')), showPopup.country === true && __jsx(\"h3\", {\n    style: {\n      flex: 1,\n      color: 'black',\n      fontSize: 12\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 40\n    }\n  }, __jsx(\"b\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 94\n    }\n  }, \"Population:\"), \"  \", Number(showPopup.region.totalConfirmed * 100 / getPopulation(showPopup.region.displayName)).toFixed(2), \"%\"), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(252,184,44)',\n      fontSize: 12\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 72\n    }\n  }, \"Confirmed:\"), \"  \", (_showPopup$region$tot = (_showPopup$region$tot2 = showPopup.region.totalConfirmed) === null || _showPopup$region$tot2 === void 0 ? void 0 : _showPopup$region$tot2.toLocaleString('en-US')) !== null && _showPopup$region$tot !== void 0 ? _showPopup$region$tot : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(50,203,111)',\n      fontSize: 12\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 72\n    }\n  }, \"Recovered:\"), (_showPopup$region$tot3 = (_showPopup$region$tot4 = showPopup.region.totalRecovered) === null || _showPopup$region$tot4 === void 0 ? void 0 : _showPopup$region$tot4.toLocaleString('en-US')) !== null && _showPopup$region$tot3 !== void 0 ? _showPopup$region$tot3 : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'red',\n      fontSize: 12\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 60\n    }\n  }, \"Deaths:\"), \" \", (_showPopup$region$tot5 = (_showPopup$region$tot6 = showPopup.region.totalDeaths) === null || _showPopup$region$tot6 === void 0 ? void 0 : _showPopup$region$tot6.toLocaleString('en-US')) !== null && _showPopup$region$tot5 !== void 0 ? _showPopup$region$tot5 : 0));\n};\n\nvar RenderCountries = function RenderCountries(_ref3) {\n  var data = _ref3.data,\n      showPopup = _ref3.showPopup,\n      setShowPopup = _ref3.setShowPopup;\n  return useMemo(function () {\n    return data.areas.map(function (region) {\n      var _showPopup$region;\n\n      return __jsx(RedBubbleMarker, {\n        key: region.displayName,\n        width: 10,\n        region: region,\n        onClick: function onClick() {\n          return setShowPopup({\n            visible: true,\n            region: region,\n            country: true\n          });\n        },\n        selected: region.displayName === ((_showPopup$region = showPopup.region) === null || _showPopup$region === void 0 ? void 0 : _showPopup$region.displayName),\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 20\n        }\n      });\n    });\n  }, [data, showPopup]);\n};\n\nvar RenderCities = function RenderCities(_ref4) {\n  var data = _ref4.data,\n      showPopup = _ref4.showPopup,\n      setShowPopup = _ref4.setShowPopup;\n  return useMemo(function () {\n    return data.areas.map(function (c) {\n      return c.areas.map(function (region) {\n        var _showPopup$region2;\n\n        return __jsx(RedBubbleMarker, {\n          key: region.displayName,\n          width: 5,\n          region: region,\n          onClick: function onClick() {\n            return setShowPopup({\n              visible: true,\n              region: region,\n              country: c.displayName\n            });\n          },\n          selected: region.displayName === ((_showPopup$region2 = showPopup.region) === null || _showPopup$region2 === void 0 ? void 0 : _showPopup$region2.displayName),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 24\n          }\n        });\n      });\n    });\n  }, [data, showPopup]);\n};\n\nvar RedBubbleMarker = function RedBubbleMarker(_ref5) {\n  var width = _ref5.width,\n      region = _ref5.region,\n      onClick = _ref5.onClick,\n      selected = _ref5.selected;\n  return __jsx(Marker, {\n    key: region.displayName,\n    longitude: region[\"long\"],\n    latitude: region.lat,\n    captureDrag: false,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, __jsx(\"svg\", {\n    onClick: onClick,\n    style: {\n      cursor: 'pointer',\n      fill: '#d00',\n      stroke: 'none',\n      width: width * 2 + 10,\n      height: width * 2 + 10,\n      transform: \"translate(\".concat(-width / 2, \"px,\").concat(-width, \"px)\")\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, __jsx(\"circle\", {\n    cx: width + 5,\n    cy: width + 5,\n    r: width,\n    fill: \"red\",\n    strokeWidth: selected ? 3 : 0,\n    stroke: selected ? \"orange\" : \"red\",\n    style: {\n      fillOpacity: opacity(region.totalDeaths)\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport var __N_SSG = true;\nexport default React.memo(HomePage);","map":{"version":3,"sources":["/Users/DEV/Desktop/covidweb/pages/index.tsx"],"names":["React","useState","useMemo","Layout","dayjs","ReactMapGL","Marker","getPopulation","radius","opa","op","opacity","MAPBOX_TOKEN","HomePage","data","visible","location","showPopup","setShowPopup","width","height","latitude","longitude","zoom","viewport","setViewport","padding","color","flexDirection","display","paddingLeft","lastUpdated","format","listStyleType","margin","overflowY","minWidth","scrollBehavior","areas","map","area","marginBottom","borderRadius","overflow","background","objectFit","position","LocationDetails","top","left","backgroundColor","zIndex","country","region","displayName","alignItems","flex","fontSize","toLocaleString","Number","totalConfirmed","toFixed","totalRecovered","totalDeaths","RenderCountries","RenderCities","c","RedBubbleMarker","onClick","selected","lat","cursor","fill","stroke","transform","fillOpacity","memo"],"mappings":"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","sourcesContent":["//@ts-ignore\n\nimport React, { useState, useMemo, useEffect } from 'react'\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout'\nimport Link from 'next/link'\nimport dayjs from 'dayjs'\nimport ReactMapGL, { Marker, Popup, StaticMap } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries'\nimport Chart from '../components/Chart'\ninterface API {\n    id: string;\n    displayName: string;\n    areas: API[];\n    totalConfirmed: number;\n    totalDeaths: number;\n    totalRecovered: number;\n    totalRecoveredDelta: number;\n    totalDeathsDelta: number;\n    totalConfirmedDelta: number;\n    lastUpdated: Date;\n    lat?: number;\n    long?: number;\n}\n\ninterface IProps {\n    data: API\n}\n\nconst radius = (opa) => {\n    let op = (opa) / 200\n\n    if (op > 100) {\n        op = 100\n    }\n    if (op < 20) {\n        op *= 3\n    }\n    return op\n}\n\nconst opacity = (opa) => {\n    let op = (opa) / 200\n    if (op < 0.3) {\n        op = 0.3\n    }\n    return op\n}\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage({ data }: IProps) {\n    const [showPopup, setShowPopup]: any = useState({ visible: false, location: null })\n\n    const [viewport, setViewport] = useState({\n        width: 400,\n        height: 400,\n        latitude: 37.7577,\n        longitude: -122.4376,\n        zoom: 8\n    });\n\n    return (\n        <Layout>\n            <div style={{ padding: 20, color: 'white', flexDirection: 'row', display: 'flex', height: '100%' }}>\n                <div style={{ height: 'calc(100vh - 152px)', paddingLeft: 0, display: 'flex', flexDirection: 'column' }}>\n                    <p>LAST UPDATED - <b>{dayjs(data?.lastUpdated).format('YYYY-MM-DD HH:mm:ss')}</b></p>\n                    <ul style={{ listStyleType: 'none', margin: 0, padding: 0, height: '100%', overflowY: 'scroll', minWidth: 480, scrollBehavior: 'smooth', display: 'flex', flexDirection: 'column' }}>\n                        {\n                            data.areas.map((area: API) => (\n                                // <li key={area.displayName} style={{ marginBottom: 25, display: 'flex', flexDirection: 'column', background: 'rgb(45,51,70)', padding: 20, borderRadius: 7, color: 'white', fontFamily: 'Roboto', }}>\n                                //     <h1 style={{ flex: 2, color: 'white' }}>{area.displayName}</h1>\n                                //     <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-around' }}>\n                                //         <p style={{ flex: 1, color: 'rgb(252,184,44)', fontSize: 20 }}><b>Confirmed:</b> <br /> {area.totalConfirmed?.toLocaleString('en-US') ?? 0}</p>\n                                //         <p style={{ flex: 1, color: 'rgb(50,203,111)', fontSize: 20 }}><b>Recovered:</b> <br />{area.totalRecovered?.toLocaleString('en-US') ?? 0}</p>\n                                //         <p style={{ flex: 1, color: 'red', fontSize: 20 }}><b>Deaths:</b> <br />{area.totalDeaths?.toLocaleString('en-US') ?? 0}</p>\n                                //     </div>\n                                // </li>\n                                <li style={{ marginBottom: 15 }}>\n                                    <div style={{ borderRadius: 15, width: 25, height: 25, overflow: 'hidden', display: 'flex', background: 'red' }}>\n                                        <img src=\"https://www.countryflags.io/be/shiny/64.png\" alt=\"123\" style={{ width: '100%', height: '100%', display: 'flex', objectFit: 'cover' }} />\n                                    </div>\n                                </li>\n                            ))\n                        }\n                    </ul>\n                </div>\n\n\n                <div style={{ display: 'flex', width: '100%', position: 'relative', height: 'calc(100vh - 152px)' }}>\n                    {showPopup.visible === true && <LocationDetails showPopup={showPopup} />}\n\n                    <ReactMapGL\n                        {...viewport}\n                        width=\"100vw\"\n                        height='calc(100vh - 152px)'\n                        mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n                        onViewportChange={setViewport}\n                        mapboxApiAccessToken={MAPBOX_TOKEN}\n                        onClick={() => setShowPopup({ visible: false, location: null })}\n                    >\n                        <RenderCountries data={data} showPopup={showPopup} setShowPopup={setShowPopup} />\n                        <RenderCities data={data} showPopup={showPopup} setShowPopup={setShowPopup} />\n                    </ReactMapGL>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nconst LocationDetails = ({ showPopup }: any) => (\n    <div style={{\n        width: 400,\n        height: 200,\n        position: 'absolute',\n        top: 25,\n        left: 25,\n        backgroundColor: 'white',\n        zIndex: 99999999,\n        padding: 15,\n        borderRadius: 8\n    }}>\n        {showPopup.country === true ? <h3 style={{ color: 'black' }}>{showPopup.region.displayName}</h3> : <span style={{ color: 'black', display: 'flex', flexDirection: 'row', alignItems: 'center' }}><h3>{showPopup.region.displayName} </h3> <label style={{ paddingLeft: 8 }}>{showPopup.country}</label></span>}\n        {showPopup.country === true && <p style={{ flex: 1, color: 'black', fontSize: 12 }}><b>Population:</b>  {getPopulation(showPopup.region.displayName).toLocaleString('en-US')}</p>}\n        {showPopup.country === true && <h3 style={{ flex: 1, color: 'black', fontSize: 12 }}><b>Population:</b>  {Number((showPopup.region.totalConfirmed * 100) / getPopulation(showPopup.region.displayName)).toFixed(2)}%</h3>}\n        <p style={{ flex: 1, color: 'rgb(252,184,44)', fontSize: 12 }}><b>Confirmed:</b>  {showPopup.region.totalConfirmed?.toLocaleString('en-US') ?? 0}</p>\n        <p style={{ flex: 1, color: 'rgb(50,203,111)', fontSize: 12 }}><b>Recovered:</b>{showPopup.region.totalRecovered?.toLocaleString('en-US') ?? 0}</p>\n        <p style={{ flex: 1, color: 'red', fontSize: 12 }}><b>Deaths:</b> {showPopup.region.totalDeaths?.toLocaleString('en-US') ?? 0}</p>\n    </div>\n)\n\nconst RenderCountries = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return useMemo(() => {\n        return data.areas.map(region => {\n            return <RedBubbleMarker key={region.displayName} width={10} region={region} onClick={() => setShowPopup({ visible: true, region, country: true })} selected={region.displayName === showPopup.region?.displayName} />\n        })\n    }, [data, showPopup])\n}\n\nconst RenderCities = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return useMemo(() => {\n        return data.areas.map(c => {\n            return c.areas.map(region => {\n                return <RedBubbleMarker key={region.displayName} width={5} region={region} onClick={() => setShowPopup({ visible: true, region, country: c.displayName })} selected={region.displayName === showPopup.region?.displayName} />\n\n            })\n        })\n    }, [data, showPopup])\n}\n\n\n\nconst RedBubbleMarker = ({ width, region, onClick, selected }: { width: number, region: API, onClick: () => void, selected: boolean }) => (\n    <Marker key={region.displayName} longitude={region.long} latitude={region.lat} captureDrag={false}>\n        <svg onClick={onClick}\n            style={{\n                cursor: 'pointer',\n                fill: '#d00',\n                stroke: 'none',\n                width: (width * 2) + 10,\n                height: (width * 2) + 10,\n                transform: `translate(${-width / 2}px,${-width}px)`\n            }}>\n            <circle cx={width + 5} cy={width + 5} r={width} fill={\"red\"} strokeWidth={selected ? 3 : 0} stroke={selected ? \"orange\" : \"red\"} style={{ fillOpacity: opacity(region.totalDeaths) }} />\n        </svg>\n    </Marker>\n)\n\nexport async function getStaticProps() {\n    const res = await fetch('https://bing.com/covid/data');\n    const data = await res.json()\n    return { props: { data } }\n}\n\nexport default React.memo(HomePage)"]},"metadata":{},"sourceType":"module"}