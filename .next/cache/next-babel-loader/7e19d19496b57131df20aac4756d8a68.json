{"ast":null,"code":"var _jsxFileName = \"/Users/DEV/Desktop/covidweb/pages/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n//@ts-ignore\nimport React, { useState, useMemo } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport ReactMapGL, { Marker, Popup, Source, Layer } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries';\nimport codes from '../assests/codes';\n\nconst radius = opa => {\n  let op = opa / 200;\n\n  if (op > 100) {\n    op = 100;\n  }\n\n  if (op < 20) {\n    op *= 3;\n  }\n\n  return op;\n};\n\nconst opacity = opa => {\n  let op = opa / 200;\n\n  if (op < 0.3) {\n    op = 0.3;\n  }\n\n  return op;\n};\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage({\n  data\n}) {\n  const {\n    0: viewport,\n    1: setViewport\n  } = useState({\n    width: 400,\n    height: 400,\n    latitude: 50,\n    longitude: 0,\n    zoom: 1,\n    visibilityConstraints: 1\n  });\n  const {\n    0: type,\n    1: setType\n  } = useState(\"Infected\");\n  console.log(data);\n  return __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      color: 'white',\n      flexDirection: 'row',\n      display: 'flex',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      position: 'relative',\n      height: 'calc(100vh - 112px)',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, __jsx(\"h3\", {\n    style: {\n      color: 'white',\n      fontFamily: 'Poppins',\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"Coronavirus COVID-19\"), __jsx(\"h5\", {\n    style: {\n      color: 'grey',\n      fontFamily: 'Poppins',\n      marginTop: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Global Cases\"), __jsx(Map, {\n    data: data,\n    viewport: viewport,\n    setViewport: setViewport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      height: 'calc(100vh - 41px)',\n      width: '100%',\n      padding: 20,\n      display: 'flex',\n      flexDirection: 'column',\n      background: 'rgb(34,37,41)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    style: {\n      color: 'white',\n      fontFamily: 'Poppins'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Cases Info\"), __jsx(\"span\", {\n    style: {\n      justifyContent: 'space-around',\n      width: '100%',\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    onClick: () => setType(\"Infected\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Infected\"), __jsx(\"button\", {\n    onClick: () => setType(\"Deaths\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"Deaths\"), __jsx(\"button\", {\n    onClick: () => setType(\"Recovered\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"Recovered\")), __jsx(\"ul\", {\n    style: {\n      margin: 0,\n      paddingLeft: 30,\n      paddingRight: 30,\n      height: '100%',\n      overflowY: 'scroll',\n      scrollBehavior: 'smooth',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, __jsx(List, {\n    data: data,\n    type: type,\n    handle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }))));\n}\n\nfunction Map({\n  data,\n  viewport,\n  setViewport\n}) {\n  const {\n    0: showPopup,\n    1: setShowPopup\n  } = useState({\n    visible: false\n  });\n  return __jsx(React.Fragment, null, showPopup.visible === true && __jsx(LocationDetails, {\n    showPopup: showPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 44\n    }\n  }), __jsx(ReactMapGL, _extends({}, viewport, {\n    width: \"80vw\",\n    reuseMaps: false,\n    height: \"calc(100vh - 205px)\",\n    mapStyle: \"mapbox://styles/mapbox/dark-v9\",\n    onViewportChange: setViewport,\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    onClick: e => {\n      var _e$features, _e$features$, _e$features$$properti;\n\n      if (e === null || e === void 0 ? void 0 : (_e$features = e.features) === null || _e$features === void 0 ? void 0 : (_e$features$ = _e$features[0]) === null || _e$features$ === void 0 ? void 0 : (_e$features$$properti = _e$features$.properties) === null || _e$features$$properti === void 0 ? void 0 : _e$features$$properti.title) {\n        if (data.areas.filter(item => {\n          var _e$features2, _e$features2$, _e$features2$$propert;\n\n          return item.displayName === (e === null || e === void 0 ? void 0 : (_e$features2 = e.features) === null || _e$features2 === void 0 ? void 0 : (_e$features2$ = _e$features2[0]) === null || _e$features2$ === void 0 ? void 0 : (_e$features2$$propert = _e$features2$.properties) === null || _e$features2$$propert === void 0 ? void 0 : _e$features2$$propert.title);\n        }).length > 0) {\n          setShowPopup({\n            visible: true,\n            region: data.areas.filter(item => {\n              var _e$features3, _e$features3$, _e$features3$$propert;\n\n              return item.displayName === (e === null || e === void 0 ? void 0 : (_e$features3 = e.features) === null || _e$features3 === void 0 ? void 0 : (_e$features3$ = _e$features3[0]) === null || _e$features3$ === void 0 ? void 0 : (_e$features3$$propert = _e$features3$.properties) === null || _e$features3$$propert === void 0 ? void 0 : _e$features3$$propert.title);\n            })[0],\n            country: true\n          });\n        } else {\n          const index = data.areas.findIndex(item => item.areas.filter(item2 => {\n            var _e$features4, _e$features4$, _e$features4$$propert;\n\n            return item2.displayName === (e === null || e === void 0 ? void 0 : (_e$features4 = e.features) === null || _e$features4 === void 0 ? void 0 : (_e$features4$ = _e$features4[0]) === null || _e$features4$ === void 0 ? void 0 : (_e$features4$$propert = _e$features4$.properties) === null || _e$features4$$propert === void 0 ? void 0 : _e$features4$$propert.title);\n          }).length > 0);\n          setShowPopup({\n            visible: true,\n            region: data.areas[index].areas.filter(item => {\n              var _e$features5, _e$features5$, _e$features5$$propert;\n\n              return item.displayName === (e === null || e === void 0 ? void 0 : (_e$features5 = e.features) === null || _e$features5 === void 0 ? void 0 : (_e$features5$ = _e$features5[0]) === null || _e$features5$ === void 0 ? void 0 : (_e$features5$$propert = _e$features5$.properties) === null || _e$features5$$propert === void 0 ? void 0 : _e$features5$$propert.title);\n            })[0],\n            country: data.areas[index].displayName\n          });\n        }\n      } else if (showPopup.visible === true) {\n        setShowPopup({\n          visible: false,\n          location: null\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), __jsx(Source, {\n    id: \"Countries\",\n    type: \"geojson\",\n    data: {\n      'type': 'FeatureCollection',\n      cluster: true,\n      'features': useMemo(() => {\n        return data.areas.reduce((sum, val) => {\n          const obj = {\n            type: 'Feature',\n            'geometry': {\n              'type': 'Point',\n              'coordinates': [val.long, val.lat]\n            },\n            'properties': {\n              'title': val.displayName,\n              'icon': 'monument'\n            }\n          };\n          sum = !!sum ? [...sum, obj] : [obj];\n          return sum;\n        }, []);\n      }, [data])\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, __jsx(Layer, _extends({\n    'id': 'points',\n    'type': 'circle',\n    'source': 'points',\n    paint: {\n      'circle-radius': 10,\n      'circle-color': 'red',\n      'circle-opacity': 0.8\n    }\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }))), __jsx(Source, {\n    id: \"Cities\",\n    type: \"geojson\",\n    data: {\n      'type': 'FeatureCollection',\n      cluster: true,\n      'features': useMemo(() => {\n        return data.areas.reduce((sum, val) => {\n          val.areas.map(item => {\n            const obj = {\n              type: 'Feature',\n              'geometry': {\n                'type': 'Point',\n                'coordinates': [item.long, item.lat]\n              },\n              'properties': {\n                'title': item.displayName,\n                'icon': 'monument'\n              }\n            };\n            sum = !!sum ? [...sum, obj] : [obj];\n          });\n          return sum;\n        }, []);\n      }, [data])\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, __jsx(Layer, _extends({\n    'id': 'points2',\n    'type': 'circle',\n    'source': 'points',\n    paint: {\n      'circle-radius': 5,\n      'circle-color': 'red',\n      'circle-opacity': 0.5\n    }\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }))), showPopup.visible && __jsx(Popup, {\n    latitude: showPopup.region.lat,\n    longitude: showPopup.region.long,\n    closeButton: true,\n    offsetTop: -10,\n    offsetLeft: 10,\n    closeOnClick: false,\n    onClose: () => setShowPopup({\n      visible: false,\n      location: null\n    }),\n    anchor: \"bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 39\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      padding: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    style: {\n      borderRadius: '50%',\n      width: 20,\n      height: 20,\n      overflow: 'hidden',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 29\n    }\n  }, __jsx(\"img\", {\n    src: `https://www.countryflags.io/${codes(showPopup.country === true ? showPopup.region.displayName : showPopup.country) || 'us'}/shiny/64.png`,\n    alt: \"123\",\n    style: {\n      width: '160%',\n      height: '160%',\n      objectFit: 'cover',\n      borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 33\n    }\n  })), __jsx(\"h3\", {\n    style: {\n      color: 'black',\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 29\n    }\n  }, showPopup.region.displayName)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      marginTop: -30,\n      marginBottom: -20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, showPopup.region.totalConfirmed.toLocaleString('en-US')), __jsx(\"h2\", {\n    style: {\n      color: 'black',\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 29\n    }\n  }, \"INFECTED\"))))));\n}\n\nfunction List({\n  data,\n  type,\n  setViewport\n}) {\n  function sorted() {\n    if (type === \"Infected\") {\n      return data.areas.sort((a, b) => b.totalConfirmed - a.totalConfirmed);\n    } else if (type === \"Deaths\") {\n      return data.areas.sort((a, b) => b.totalDeaths - a.totalDeaths);\n    } else if (type === \"Recovered\") {\n      return data.areas.sort((a, b) => b.totalRecovered - a.totalRecovered);\n    }\n  }\n\n  if (sorted.length > 0) return null;\n  return sorted().map(area => {\n    var _area$totalConfirmed, _area$totalRecovered, _area$totalDeaths;\n\n    return __jsx(\"li\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      style: {\n        borderRadius: '50%',\n        width: 20,\n        height: 20,\n        overflow: 'hidden',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      onClick: () => setViewport({}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      src: `https://www.countryflags.io/${codes(area.displayName) || 'us'}/shiny/64.png`,\n      alt: \"123\",\n      style: {\n        width: '160%',\n        height: '160%',\n        objectFit: 'cover',\n        borderRadius: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    })), __jsx(\"h5\", {\n      style: {\n        paddingLeft: 15,\n        color: 'grey',\n        margin: '0 auto 0 0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }, area.displayName), __jsx(\"h5\", {\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, type === \"Infected\" ? (_area$totalConfirmed = area.totalConfirmed) === null || _area$totalConfirmed === void 0 ? void 0 : _area$totalConfirmed.toLocaleString('en-US') : type === \"Recovered\" ? (_area$totalRecovered = area.totalRecovered) === null || _area$totalRecovered === void 0 ? void 0 : _area$totalRecovered.toLocaleString('en-US') : type === \"Deaths\" && ((_area$totalDeaths = area.totalDeaths) === null || _area$totalDeaths === void 0 ? void 0 : _area$totalDeaths.toLocaleString('en-US'))));\n  });\n}\n\nconst LocationDetails = ({\n  showPopup\n}) => {\n  var _showPopup$region$tot, _showPopup$region$tot2, _showPopup$region$tot3, _showPopup$region$tot4, _showPopup$region$tot5, _showPopup$region$tot6;\n\n  return __jsx(\"div\", {\n    style: {\n      width: 400,\n      height: 200,\n      position: 'absolute',\n      top: 25,\n      left: 25,\n      backgroundColor: 'white',\n      zIndex: 99999999,\n      padding: 15,\n      borderRadius: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }\n  }, showPopup.country === true ? __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      borderRadius: '50%',\n      width: 20,\n      height: 20,\n      overflow: 'hidden',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: `https://www.countryflags.io/${codes(showPopup.country === true ? showPopup.region.displayName : showPopup.country) || 'us'}/shiny/64.png`,\n    alt: \"123\",\n    style: {\n      width: '160%',\n      height: '160%',\n      objectFit: 'cover',\n      borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 25\n    }\n  })), __jsx(\"h3\", {\n    style: {\n      color: 'black',\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }\n  }, showPopup.region.displayName)) : __jsx(\"span\", {\n    style: {\n      color: 'black',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 111\n    }\n  }, showPopup.region.displayName, \" \"), \" \", __jsx(\"label\", {\n    style: {\n      paddingLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 152\n    }\n  }, showPopup.country)), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(252,184,44)',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 76\n    }\n  }, \"Confirmed:\"), \"  \", (_showPopup$region$tot = (_showPopup$region$tot2 = showPopup.region.totalConfirmed) === null || _showPopup$region$tot2 === void 0 ? void 0 : _showPopup$region$tot2.toLocaleString('en-US')) !== null && _showPopup$region$tot !== void 0 ? _showPopup$region$tot : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(50,203,111)',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 76\n    }\n  }, \"Recovered:\"), (_showPopup$region$tot3 = (_showPopup$region$tot4 = showPopup.region.totalRecovered) === null || _showPopup$region$tot4 === void 0 ? void 0 : _showPopup$region$tot4.toLocaleString('en-US')) !== null && _showPopup$region$tot3 !== void 0 ? _showPopup$region$tot3 : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'red',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 64\n    }\n  }, \"Deaths:\"), \" \", (_showPopup$region$tot5 = (_showPopup$region$tot6 = showPopup.region.totalDeaths) === null || _showPopup$region$tot6 === void 0 ? void 0 : _showPopup$region$tot6.toLocaleString('en-US')) !== null && _showPopup$region$tot5 !== void 0 ? _showPopup$region$tot5 : 0), showPopup.country === true && __jsx(\"h3\", {\n    style: {\n      flex: 1,\n      color: 'black',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 44\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 98\n    }\n  }, \"Population:\"), \"  \", Number(showPopup.region.totalConfirmed * 100 / getPopulation(showPopup.region.displayName)).toFixed(2), \"%\"));\n};\n\nconst RenderCountries = ({\n  data,\n  showPopup,\n  setShowPopup\n}) => {\n  return data.areas.map(region => {\n    var _showPopup$region;\n\n    return __jsx(RedBubbleMarker, {\n      key: region.displayName,\n      width: 10,\n      region: region,\n      onClick: () => setShowPopup({\n        visible: true,\n        region,\n        country: true\n      }),\n      selected: region.displayName === ((_showPopup$region = showPopup.region) === null || _showPopup$region === void 0 ? void 0 : _showPopup$region.displayName),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 16\n      }\n    });\n  });\n};\n\nconst RenderCities = ({\n  data,\n  showPopup,\n  setShowPopup\n}) => {\n  return data.areas.map(c => {\n    return c.areas.map(region => {\n      var _showPopup$region2;\n\n      return __jsx(RedBubbleMarker, {\n        key: region.displayName,\n        width: 5,\n        region: region,\n        onClick: () => setShowPopup({\n          visible: true,\n          region,\n          country: c.displayName\n        }),\n        selected: region.displayName === ((_showPopup$region2 = showPopup.region) === null || _showPopup$region2 === void 0 ? void 0 : _showPopup$region2.displayName),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 20\n        }\n      });\n    });\n  });\n};\n\nconst RedBubbleMarker = ({\n  width,\n  region,\n  onClick,\n  selected\n}) => __jsx(Marker, {\n  key: region.displayName,\n  longitude: region.long,\n  latitude: region.lat,\n  captureDrag: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }\n}, __jsx(\"svg\", {\n  onClick: onClick,\n  style: {\n    cursor: 'pointer',\n    fill: '#d00',\n    stroke: 'none',\n    width: width * 2 + 10,\n    height: width * 2 + 10,\n    transform: `translate(${-width / 2}px,${-width}px)`\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 9\n  }\n}, __jsx(\"circle\", {\n  cx: width + 5,\n  cy: width + 5,\n  r: width,\n  fill: \"red\",\n  strokeWidth: selected ? 3 : 0,\n  stroke: selected ? \"orange\" : \"red\",\n  style: {\n    fillOpacity: opacity(region.totalDeaths)\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 339,\n    columnNumber: 13\n  }\n})));\n\nexport async function getStaticProps() {\n  const res = await fetch('https://bing.com/covid/data');\n  const data = await res.json();\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default React.memo(HomePage);","map":{"version":3,"sources":["/Users/DEV/Desktop/covidweb/pages/index.tsx"],"names":["React","useState","useMemo","fetch","Layout","ReactMapGL","Marker","Popup","Source","Layer","getPopulation","codes","radius","opa","op","opacity","MAPBOX_TOKEN","HomePage","data","viewport","setViewport","width","height","latitude","longitude","zoom","visibilityConstraints","type","setType","console","log","display","flexDirection","color","position","fontFamily","marginBottom","marginTop","padding","background","justifyContent","margin","paddingLeft","paddingRight","overflowY","scrollBehavior","Map","showPopup","setShowPopup","visible","e","features","properties","title","areas","filter","item","displayName","length","region","country","index","findIndex","item2","location","cluster","reduce","sum","val","obj","long","lat","paint","map","alignItems","borderRadius","overflow","objectFit","totalConfirmed","toLocaleString","List","sorted","sort","a","b","totalDeaths","totalRecovered","area","LocationDetails","top","left","backgroundColor","zIndex","flex","fontSize","Number","toFixed","RenderCountries","RenderCities","c","RedBubbleMarker","onClick","selected","cursor","fill","stroke","transform","fillOpacity","getStaticProps","res","json","props","memo"],"mappings":"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","sourcesContent":["//@ts-ignore\n\nimport React, { useState, useMemo, useEffect, useRef } from 'react'\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout'\nimport Link from 'next/link'\nimport dayjs from 'dayjs'\nimport ReactMapGL, { Marker, Popup, StaticMap, Source, Layer } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries'\n\nimport { ComposedChart, XAxis, YAxis, Tooltip, Legend, CartesianGrid, Area, Bar, Line } from 'recharts'\n\nimport Chart from '../components/Chart'\nimport codes from '../assests/codes'\ninterface API {\n    id: string;\n    displayName: string;\n    areas: API[];\n    totalConfirmed: number;\n    totalDeaths: number;\n    totalRecovered: number;\n    totalRecoveredDelta: number;\n    totalDeathsDelta: number;\n    totalConfirmedDelta: number;\n    lastUpdated: Date;\n    lat?: number;\n    long?: number;\n}\n\ninterface IHistoryData {\n    hospitalizedWithSymptoms: number;\n    intensiveTherapy: number;\n    totalHospitalized: number;\n    homeInsulation: number;\n    totalCurrentlyPositive: number;\n    newCurrentlyPositive: number;\n    dischargedHealed: number;\n    deceased: number;\n    totalCases: number;\n    tamponi: number;\n    sourceUrl: string;\n    lastUpdatedAtSource: Date;\n    lastUpdatedAtApify: Date;\n    readMe: string;\n}\n\ninterface IProps {\n    data: API\n    history: any\n}\n\nconst radius = (opa) => {\n    let op = (opa) / 200\n\n    if (op > 100) {\n        op = 100\n    }\n    if (op < 20) {\n        op *= 3\n    }\n    return op\n}\n\nconst opacity = (opa) => {\n    let op = (opa) / 200\n    if (op < 0.3) {\n        op = 0.3\n    }\n    return op\n}\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage({ data }: IProps) {\n    const [viewport, setViewport] = useState({\n        width: 400,\n        height: 400,\n        latitude: 50,\n        longitude: 0,\n        zoom: 1,\n        visibilityConstraints: 1\n    });\n    const [type, setType] = useState<'Infected' | 'Deaths' | 'Recovered'>(\"Infected\")\n    console.log(data)\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n            <Layout>\n                <div style={{ color: 'white', flexDirection: 'row', display: 'flex', height: '100%' }}>\n                    <div style={{ display: 'flex', position: 'relative', height: 'calc(100vh - 112px)', flexDirection: 'column' }}>\n                        <h3 style={{ color: 'white', fontFamily: 'Poppins', marginBottom: 0 }}>Coronavirus COVID-19</h3>\n                        <h5 style={{ color: 'grey', fontFamily: 'Poppins', marginTop: 0 }}>Global Cases</h5>\n\n                        <Map data={data} viewport={viewport} setViewport={setViewport} />\n                    </div>\n                </div>\n            </Layout>\n            <div style={{ height: 'calc(100vh - 41px)', width: '100%', padding: 20, display: 'flex', flexDirection: 'column', background: 'rgb(34,37,41)' }}>\n                <h3 style={{ color: 'white', fontFamily: 'Poppins' }}>Cases Info</h3>\n\n                <span style={{ justifyContent: 'space-around', width: '100%', display: 'flex' }}>\n                    <button onClick={() => setType(\"Infected\")}>Infected</button>\n                    <button onClick={() => setType(\"Deaths\")}>Deaths</button>\n                    <button onClick={() => setType(\"Recovered\")}>Recovered</button>\n                </span>\n                <ul style={{ margin: 0, paddingLeft: 30, paddingRight: 30, height: '100%', overflowY: 'scroll', scrollBehavior: 'smooth', display: 'flex', flexDirection: 'column' }}>\n                    <List data={data} type={type} handle/>\n                </ul>\n            </div>\n        </div >\n    )\n}\n\nfunction Map({ data, viewport, setViewport }: { data: API, viewport: any, setViewport: any }) {\n\n    const [showPopup, setShowPopup]: any = useState<{ visible: boolean, region?: API, country?: boolean | string }>({ visible: false })\n\n\n    return (\n        <>\n            {showPopup.visible === true && <LocationDetails showPopup={showPopup} />}\n            <ReactMapGL\n                {...viewport}\n                width=\"80vw\"\n                reuseMaps={false}\n                height='calc(100vh - 205px)'\n                mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n                onViewportChange={setViewport}\n                mapboxApiAccessToken={MAPBOX_TOKEN}\n                onClick={(e) => {\n                    if (e?.features?.[0]?.properties?.title) {\n                        if (data.areas.filter(item => item.displayName === e?.features?.[0]?.properties?.title).length > 0) {\n                            setShowPopup({ visible: true, region: data.areas.filter(item => item.displayName === e?.features?.[0]?.properties?.title)[0], country: true })\n                        }\n                        else {\n                            const index: number = data.areas.findIndex(item => item.areas.filter(item2 => item2.displayName === e?.features?.[0]?.properties?.title).length > 0)\n                            setShowPopup({ visible: true, region: data.areas[index].areas.filter(item => item.displayName === e?.features?.[0]?.properties?.title)[0], country: data.areas[index].displayName })\n                        }\n                    }\n                    else if (showPopup.visible === true) {\n                        setShowPopup({ visible: false, location: null })\n                    }\n                }}\n            >\n                <Source id='Countries' type='geojson' data={{\n                    'type': 'FeatureCollection',\n                    cluster: true,\n                    'features': useMemo(() => {\n                        return data.areas.reduce((sum, val: API) => {\n                            const obj = {\n                                type: 'Feature',\n                                'geometry': {\n                                    'type': 'Point',\n                                    'coordinates': [\n                                        val.long,\n                                        val.lat\n                                    ]\n                                },\n                                'properties': {\n                                    'title': val.displayName,\n                                    'icon': 'monument'\n                                }\n                            }\n                            sum = !!sum ? [...sum, obj] : [obj]\n                            return sum\n                        }, [])\n                    }, [data])\n                }}>\n                    <Layer\n                        {...{\n                            'id': 'points',\n                            'type': 'circle',\n                            'source': 'points',\n                            paint: {\n                                'circle-radius': 10,\n                                'circle-color': 'red',\n                                'circle-opacity': 0.8\n                            }\n                        }}\n                    />\n                </Source>\n\n                <Source id='Cities' type='geojson' data={{\n                    'type': 'FeatureCollection',\n                    cluster: true,\n                    'features': useMemo(() => {\n                        return data.areas.reduce((sum, val: API) => {\n                            val.areas.map((item: API) => {\n                                const obj = {\n                                    type: 'Feature',\n                                    'geometry': {\n                                        'type': 'Point',\n                                        'coordinates': [\n                                            item.long,\n                                            item.lat\n                                        ]\n                                    },\n                                    'properties': {\n                                        'title': item.displayName,\n                                        'icon': 'monument'\n                                    }\n                                }\n                                sum = !!sum ? [...sum, obj] : [obj]\n                            })\n                            return sum\n                        }, [])\n                    }, [data])\n                }}>\n                    <Layer\n                        {...{\n                            'id': 'points2',\n                            'type': 'circle',\n                            'source': 'points',\n                            paint: {\n                                'circle-radius': 5,\n                                'circle-color': 'red',\n                                'circle-opacity': 0.5\n                            }\n                        }}\n                    />\n                </Source>\n\n                {showPopup.visible && <Popup\n                    latitude={showPopup.region.lat}\n                    longitude={showPopup.region.long}\n                    closeButton={true}\n                    offsetTop={-10}\n                    offsetLeft={10}\n                    closeOnClick={false}\n                    onClose={() => setShowPopup({ visible: false, location: null })}\n                    anchor=\"bottom\"\n                >\n                    <div style={{ display: 'flex', flexDirection: 'column', padding: 5 }}>\n                        <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n                            <div style={{ borderRadius: '50%', width: 20, height: 20, overflow: 'hidden', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                                <img src={`https://www.countryflags.io/${codes(showPopup.country === true ? showPopup.region.displayName : showPopup.country) || 'us'}/shiny/64.png`} alt=\"123\" style={{ width: '160%', height: '160%', objectFit: 'cover', borderRadius: '50%' }} />\n                            </div>\n                            <h3 style={{ color: 'black', paddingLeft: 10 }}>{showPopup.region.displayName}</h3>\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'row', marginTop: -30, marginBottom: -20 }}>\n                            <h2 style={{ color: 'red' }}>{showPopup.region.totalConfirmed.toLocaleString('en-US')}</h2>\n                            <h2 style={{ color: 'black', paddingLeft: 10 }}>INFECTED</h2>\n                        </div>\n                    </div>\n                </Popup>}\n                {/* {useMemo(() => <RenderCountries data={data} showPopup={showPopup} setShowPopup={setShowPopup} />, [data])} */}\n                {/* {useMemo(() => <RenderCities data={data} showPopup={showPopup} setShowPopup={setShowPopup} />, [data])} */}\n            </ReactMapGL>\n        </>\n    )\n}\n\nfunction List({ data, type, setViewport }: any) {\n\n\n    function sorted() {\n        if (type === \"Infected\") {\n            return data.areas.sort((a: API, b: API) => b.totalConfirmed - a.totalConfirmed);\n        }\n        else if (type === \"Deaths\") {\n            return data.areas.sort((a: API, b: API) => b.totalDeaths - a.totalDeaths);\n        }\n        else if (type === \"Recovered\") {\n            return data.areas.sort((a: API, b: API) => b.totalRecovered - a.totalRecovered);\n        }\n    }\n\n    if (sorted.length > 0) return null\n    return sorted().map((area: API) => (\n        <li style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n            <div style={{ borderRadius: '50%', width: 20, height: 20, overflow: 'hidden', display: 'flex', justifyContent: 'center', alignItems: 'center' }} onClick={() => setViewport({})}>\n                <img src={`https://www.countryflags.io/${codes(area.displayName) || 'us'}/shiny/64.png`} alt=\"123\" style={{ width: '160%', height: '160%', objectFit: 'cover', borderRadius: '50%' }} />\n            </div>\n            <h5 style={{ paddingLeft: 15, color: 'grey', margin: '0 auto 0 0' }}>{area.displayName}</h5>\n            <h5 style={{ color: 'white' }}>{type === \"Infected\" ? area.totalConfirmed?.toLocaleString('en-US') : type === \"Recovered\" ? area.totalRecovered?.toLocaleString('en-US') : type === \"Deaths\" && area.totalDeaths?.toLocaleString('en-US')}</h5>\n        </li>\n    ))\n}\n\nconst LocationDetails = ({ showPopup }: any) => {\n    return (\n        <div style={{\n            width: 400,\n            height: 200,\n            position: 'absolute',\n            top: 25,\n            left: 25,\n            backgroundColor: 'white',\n            zIndex: 99999999,\n            padding: 15,\n            borderRadius: 8\n        }}>\n            {showPopup.country === true\n                ?\n                <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n                    <div style={{ borderRadius: '50%', width: 20, height: 20, overflow: 'hidden', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                        <img src={`https://www.countryflags.io/${codes(showPopup.country === true ? showPopup.region.displayName : showPopup.country) || 'us'}/shiny/64.png`} alt=\"123\" style={{ width: '160%', height: '160%', objectFit: 'cover', borderRadius: '50%' }} />\n                    </div>\n                    <h3 style={{ color: 'black', paddingLeft: 10 }}>{showPopup.region.displayName}</h3>\n                </div>\n                :\n                <span style={{ color: 'black', display: 'flex', flexDirection: 'row', alignItems: 'center' }}><h3>{showPopup.region.displayName} </h3> <label style={{ paddingLeft: 8 }}>{showPopup.country}</label></span>}\n            <p style={{ flex: 1, color: 'rgb(252,184,44)', fontSize: 12 }}><b>Confirmed:</b>  {showPopup.region.totalConfirmed?.toLocaleString('en-US') ?? 0}</p>\n            <p style={{ flex: 1, color: 'rgb(50,203,111)', fontSize: 12 }}><b>Recovered:</b>{showPopup.region.totalRecovered?.toLocaleString('en-US') ?? 0}</p>\n            <p style={{ flex: 1, color: 'red', fontSize: 12 }}><b>Deaths:</b> {showPopup.region.totalDeaths?.toLocaleString('en-US') ?? 0}</p>\n            {showPopup.country === true && <h3 style={{ flex: 1, color: 'black', fontSize: 12 }}><b>Population:</b>  {Number((showPopup.region.totalConfirmed * 100) / getPopulation(showPopup.region.displayName)).toFixed(2)}%</h3>}\n        </div>\n    )\n}\n\nconst RenderCountries = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return data.areas.map(region => {\n        return <RedBubbleMarker key={region.displayName} width={10} region={region} onClick={() => setShowPopup({ visible: true, region, country: true })} selected={region.displayName === showPopup.region?.displayName} />\n    })\n}\n\nconst RenderCities = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return data.areas.map(c => {\n        return c.areas.map(region => {\n            return <RedBubbleMarker key={region.displayName} width={5} region={region} onClick={() => setShowPopup({ visible: true, region, country: c.displayName })} selected={region.displayName === showPopup.region?.displayName} />\n\n        })\n    })\n}\n\n\n\nconst RedBubbleMarker = ({ width, region, onClick, selected }: { width: number, region: API, onClick: () => void, selected: boolean }) => (\n    <Marker key={region.displayName} longitude={region.long} latitude={region.lat} captureDrag={false}>\n        <svg onClick={onClick}\n            style={{\n                cursor: 'pointer',\n                fill: '#d00',\n                stroke: 'none',\n                width: (width * 2) + 10,\n                height: (width * 2) + 10,\n                transform: `translate(${-width / 2}px,${-width}px)`\n            }}>\n            <circle cx={width + 5} cy={width + 5} r={width} fill={\"red\"} strokeWidth={selected ? 3 : 0} stroke={selected ? \"orange\" : \"red\"} style={{ fillOpacity: opacity(region.totalDeaths) }} />\n        </svg>\n    </Marker>\n)\n\nexport async function getStaticProps() {\n    const res = await fetch('https://bing.com/covid/data');\n    const data = await res.json()\n\n    return { props: { data } }\n}\n\nexport default React.memo(HomePage)"]},"metadata":{},"sourceType":"module"}