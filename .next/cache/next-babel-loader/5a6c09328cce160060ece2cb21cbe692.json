{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/DEV/Desktop/covidweb/pages/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport DeckGL, { TileLayer, BitmapLayer } from 'deck.gl';\nexport var INITIAL_VIEW_STATE = {\n  latitude: 47.65,\n  longitude: 7,\n  zoom: 4.5,\n  maxZoom: 20,\n  bearing: 0\n}; // https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Tile_servers\n\nvar tileServer = 'https://c.tile.openstreetmap.org/';\nexport var App = /*#__PURE__*/function (_PureComponent) {\n  _inherits(App, _PureComponent);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    _this._onHover = _this._onHover.bind(_assertThisInitialized(_this));\n    _this._renderTooltip = _this._renderTooltip.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"_onHover\",\n    value: function _onHover(_ref) {\n      var x = _ref.x,\n          y = _ref.y,\n          sourceLayer = _ref.sourceLayer,\n          tile = _ref.tile;\n      this.setState({\n        x: x,\n        y: y,\n        hoveredObject: {\n          sourceLayer: sourceLayer,\n          tile: tile\n        }\n      });\n    }\n  }, {\n    key: \"_renderTooltip\",\n    value: function _renderTooltip() {\n      var _this$state = this.state,\n          x = _this$state.x,\n          y = _this$state.y,\n          hoveredObject = _this$state.hoveredObject;\n\n      var _ref2 = hoveredObject || {},\n          sourceLayer = _ref2.sourceLayer,\n          tile = _ref2.tile;\n\n      return sourceLayer && tile && __jsx(\"div\", {\n        className: \"tooltip\",\n        style: {\n          left: x,\n          top: y\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, \"tile: x: \", tile.x, \", y: \", tile.y, \", z: \", tile.z);\n    }\n  }, {\n    key: \"_renderLayers\",\n    value: function _renderLayers() {\n      var _this$props = this.props,\n          _this$props$autoHighl = _this$props.autoHighlight,\n          autoHighlight = _this$props$autoHighl === void 0 ? true : _this$props$autoHighl,\n          _this$props$highlight = _this$props.highlightColor,\n          highlightColor = _this$props$highlight === void 0 ? [60, 60, 60, 40] : _this$props$highlight;\n      return [new TileLayer({\n        pickable: true,\n        onHover: this._onHover,\n        autoHighlight: autoHighlight,\n        highlightColor: highlightColor,\n        opacity: 1,\n        // https://wiki.openstreetmap.org/wiki/Zoom_levels\n        minZoom: 0,\n        maxZoom: 19,\n        renderSubLayers: function renderSubLayers(props) {\n          var _props$tile = props.tile,\n              x = _props$tile.x,\n              y = _props$tile.y,\n              z = _props$tile.z,\n              bbox = _props$tile.bbox;\n          var west = bbox.west,\n              south = bbox.south,\n              east = bbox.east,\n              north = bbox.north;\n          return new BitmapLayer(props, {\n            image: \"\".concat(tileServer, \"/\").concat(z, \"/\").concat(x, \"/\").concat(y, \".png\"),\n            bounds: [west, south, east, north]\n          });\n        }\n      })];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          viewState = _this$props2.viewState,\n          _this$props2$controll = _this$props2.controller,\n          controller = _this$props2$controll === void 0 ? true : _this$props2$controll;\n      return __jsx(DeckGL, {\n        layers: this._renderLayers(),\n        initialViewState: INITIAL_VIEW_STATE,\n        viewState: viewState,\n        controller: controller,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }\n      }, this._renderTooltip);\n    }\n  }]);\n\n  return App;\n}(PureComponent);","map":{"version":3,"sources":["/Users/DEV/Desktop/covidweb/pages/index.tsx"],"names":["React","PureComponent","DeckGL","TileLayer","BitmapLayer","INITIAL_VIEW_STATE","latitude","longitude","zoom","maxZoom","bearing","tileServer","App","props","state","_onHover","bind","_renderTooltip","x","y","sourceLayer","tile","setState","hoveredObject","left","top","z","autoHighlight","highlightColor","pickable","onHover","opacity","minZoom","renderSubLayers","bbox","west","south","east","north","image","bounds","viewState","controller","_renderLayers"],"mappings":"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","sourcesContent":["import React, {PureComponent} from 'react';\nimport {render} from 'react-dom';\n\nimport DeckGL, {TileLayer, BitmapLayer} from 'deck.gl';\n\nexport const INITIAL_VIEW_STATE = {\n  latitude: 47.65,\n  longitude: 7,\n  zoom: 4.5,\n  maxZoom: 20,\n  bearing: 0\n};\n\n// https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Tile_servers\nconst tileServer = 'https://c.tile.openstreetmap.org/';\n\nexport class App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this._onHover = this._onHover.bind(this);\n    this._renderTooltip = this._renderTooltip.bind(this);\n  }\n\n  _onHover({x, y, sourceLayer, tile}) {\n    this.setState({x, y, hoveredObject: {sourceLayer, tile}});\n  }\n\n  _renderTooltip() {\n    const {x, y, hoveredObject} = this.state;\n    const {sourceLayer, tile} = hoveredObject || {};\n    return (\n      sourceLayer &&\n      tile && (\n        <div className=\"tooltip\" style={{left: x, top: y}}>\n          tile: x: {tile.x}, y: {tile.y}, z: {tile.z}\n        </div>\n      )\n    );\n  }\n\n  _renderLayers() {\n    const {autoHighlight = true, highlightColor = [60, 60, 60, 40]} = this.props;\n\n    return [\n      new TileLayer({\n        pickable: true,\n        onHover: this._onHover,\n        autoHighlight,\n        highlightColor,\n        opacity: 1,\n        // https://wiki.openstreetmap.org/wiki/Zoom_levels\n        minZoom: 0,\n        maxZoom: 19,\n\n        renderSubLayers: props => {\n          const {x, y, z, bbox} = props.tile;\n          const {west, south, east, north} = bbox;\n\n          return new BitmapLayer(props, {\n            image: `${tileServer}/${z}/${x}/${y}.png`,\n            bounds: [west, south, east, north]\n          });\n        }\n      })\n    ];\n  }\n\n  render() {\n    const {viewState, controller = true} = this.props;\n\n    return (\n      <DeckGL\n        layers={this._renderLayers()}\n        initialViewState={INITIAL_VIEW_STATE}\n        viewState={viewState}\n        controller={controller}\n      >\n        {this._renderTooltip}\n      </DeckGL>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}