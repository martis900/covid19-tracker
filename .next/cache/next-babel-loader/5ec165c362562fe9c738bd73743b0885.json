{"ast":null,"code":"var _jsxFileName = \"/Users/DEV/Desktop/covidweb/pages/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n//@ts-ignore\nimport React, { useState, useMemo } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout';\nimport dayjs from 'dayjs';\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries';\nimport codes from '../assests/codes';\n\nconst radius = opa => {\n  let op = opa / 200;\n\n  if (op > 100) {\n    op = 100;\n  }\n\n  if (op < 20) {\n    op *= 3;\n  }\n\n  return op;\n};\n\nconst opacity = opa => {\n  let op = opa / 200;\n\n  if (op < 0.3) {\n    op = 0.3;\n  }\n\n  return op;\n};\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage({\n  data\n}) {\n  const {\n    0: showPopup,\n    1: setShowPopup\n  } = useState({\n    visible: false,\n    location: null\n  });\n  const {\n    0: type,\n    1: setType\n  } = useState(\"Infected\");\n  const {\n    0: viewport,\n    1: setViewport\n  } = useState({\n    width: 400,\n    height: 400,\n    latitude: 37.7577,\n    longitude: -122.4376,\n    zoom: 8\n  });\n  return __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      color: 'white',\n      flexDirection: 'row',\n      display: 'flex',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      position: 'relative',\n      height: 'calc(100vh - 112px)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, showPopup.visible === true && __jsx(LocationDetails, {\n    showPopup: showPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 56\n    }\n  }), __jsx(ReactMapGL, _extends({}, viewport, {\n    width: \"80vw\",\n    height: \"calc(100vh - 112px)\",\n    mapStyle: \"mapbox://styles/mapbox/dark-v9\",\n    onViewportChange: setViewport,\n    mapboxApiAccessToken: MAPBOX_TOKEN,\n    onClick: () => setShowPopup({\n      visible: false,\n      location: null\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }), __jsx(RenderCountries, {\n    data: data,\n    showPopup: showPopup,\n    setShowPopup: setShowPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }), __jsx(RenderCities, {\n    data: data,\n    showPopup: showPopup,\n    setShowPopup: setShowPopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }))))), __jsx(\"div\", {\n    style: {\n      height: 'calc(100vh - 41px)',\n      width: '100%',\n      padding: 20,\n      display: 'flex',\n      flexDirection: 'column',\n      background: 'rgb(34,37,41)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"LAST UPDATED - \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 35\n    }\n  }, dayjs(data === null || data === void 0 ? void 0 : data.lastUpdated).format('YYYY-MM-DD HH:mm:ss'))), __jsx(\"span\", {\n    style: {\n      justifyContent: 'space-around',\n      width: '100%',\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    onClick: () => setType(\"Infected\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Infected\"), __jsx(\"button\", {\n    onClick: () => setType(\"Deaths\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Deaths\"), __jsx(\"button\", {\n    onClick: () => setType(\"Recovered\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Recovered\")), __jsx(\"ul\", {\n    style: {\n      margin: 0,\n      paddingLeft: 30,\n      paddingRight: 30,\n      height: '100%',\n      overflowY: 'scroll',\n      scrollBehavior: 'smooth',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, __jsx(List, {\n    data: data,\n    type: type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }))));\n}\n\nfunction List({\n  data,\n  type\n}) {\n  function sorted() {\n    if (type === \"Infected\") {\n      return data.areas.sort((a, b) => b.totalConfirmed - a.totalConfirmed).slice(0, 10);\n    } else if (type === \"Deaths\") {\n      return data.areas.sort((a, b) => b.totalDeaths - a.totalDeaths).slice(0, 10);\n    } else if (type === \"Recovered\") {\n      return data.areas.sort((a, b) => b.total - a.totalConfirmed).slice(0, 10);\n    }\n  }\n\n  if (sorted.length > 0) return null;\n  return sorted().map(area => __jsx(\"li\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      borderRadius: '50%',\n      width: 20,\n      height: 20,\n      overflow: 'hidden',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: `https://www.countryflags.io/${codes(area.displayName) || 'us'}/shiny/64.png`,\n    alt: \"123\",\n    style: {\n      width: '160%',\n      height: '160%',\n      objectFit: 'cover',\n      borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  })), __jsx(\"h5\", {\n    style: {\n      paddingLeft: 15,\n      color: 'grey',\n      margin: '0 auto 0 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, area.displayName), __jsx(\"h5\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, area.totalConfirmed.toLocaleString('en-US'))));\n}\n\nconst LocationDetails = ({\n  showPopup\n}) => {\n  var _showPopup$region$tot, _showPopup$region$tot2, _showPopup$region$tot3, _showPopup$region$tot4, _showPopup$region$tot5, _showPopup$region$tot6;\n\n  return __jsx(\"div\", {\n    style: {\n      width: 400,\n      height: 200,\n      position: 'absolute',\n      top: 25,\n      left: 25,\n      backgroundColor: 'white',\n      zIndex: 99999999,\n      padding: 15,\n      borderRadius: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, showPopup.country === true ? __jsx(\"h3\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 39\n    }\n  }, showPopup.region.displayName) : __jsx(\"span\", {\n    style: {\n      color: 'black',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 108\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 202\n    }\n  }, showPopup.region.displayName, \" \"), \" \", __jsx(\"label\", {\n    style: {\n      paddingLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 243\n    }\n  }, showPopup.country)), showPopup.country === true && __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'black',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 40\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 93\n    }\n  }, \"Population:\"), \"  \", getPopulation(showPopup.region.displayName).toLocaleString('en-US')), showPopup.country === true && __jsx(\"h3\", {\n    style: {\n      flex: 1,\n      color: 'black',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 40\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 94\n    }\n  }, \"Population:\"), \"  \", Number(showPopup.region.totalConfirmed * 100 / getPopulation(showPopup.region.displayName)).toFixed(2), \"%\"), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(252,184,44)',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 72\n    }\n  }, \"Confirmed:\"), \"  \", (_showPopup$region$tot = (_showPopup$region$tot2 = showPopup.region.totalConfirmed) === null || _showPopup$region$tot2 === void 0 ? void 0 : _showPopup$region$tot2.toLocaleString('en-US')) !== null && _showPopup$region$tot !== void 0 ? _showPopup$region$tot : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'rgb(50,203,111)',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 72\n    }\n  }, \"Recovered:\"), (_showPopup$region$tot3 = (_showPopup$region$tot4 = showPopup.region.totalRecovered) === null || _showPopup$region$tot4 === void 0 ? void 0 : _showPopup$region$tot4.toLocaleString('en-US')) !== null && _showPopup$region$tot3 !== void 0 ? _showPopup$region$tot3 : 0), __jsx(\"p\", {\n    style: {\n      flex: 1,\n      color: 'red',\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 60\n    }\n  }, \"Deaths:\"), \" \", (_showPopup$region$tot5 = (_showPopup$region$tot6 = showPopup.region.totalDeaths) === null || _showPopup$region$tot6 === void 0 ? void 0 : _showPopup$region$tot6.toLocaleString('en-US')) !== null && _showPopup$region$tot5 !== void 0 ? _showPopup$region$tot5 : 0));\n};\n\nconst RenderCountries = ({\n  data,\n  showPopup,\n  setShowPopup\n}) => {\n  return useMemo(() => {\n    return data.areas.map(region => {\n      var _showPopup$region;\n\n      return __jsx(RedBubbleMarker, {\n        key: region.displayName,\n        width: 10,\n        region: region,\n        onClick: () => setShowPopup({\n          visible: true,\n          region,\n          country: true\n        }),\n        selected: region.displayName === ((_showPopup$region = showPopup.region) === null || _showPopup$region === void 0 ? void 0 : _showPopup$region.displayName),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 20\n        }\n      });\n    });\n  }, [data, showPopup]);\n};\n\nconst RenderCities = ({\n  data,\n  showPopup,\n  setShowPopup\n}) => {\n  return useMemo(() => {\n    return data.areas.map(c => {\n      return c.areas.map(region => {\n        var _showPopup$region2;\n\n        return __jsx(RedBubbleMarker, {\n          key: region.displayName,\n          width: 5,\n          region: region,\n          onClick: () => setShowPopup({\n            visible: true,\n            region,\n            country: c.displayName\n          }),\n          selected: region.displayName === ((_showPopup$region2 = showPopup.region) === null || _showPopup$region2 === void 0 ? void 0 : _showPopup$region2.displayName),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 24\n          }\n        });\n      });\n    });\n  }, [data, showPopup]);\n};\n\nconst RedBubbleMarker = ({\n  width,\n  region,\n  onClick,\n  selected\n}) => __jsx(Marker, {\n  key: region.displayName,\n  longitude: region.long,\n  latitude: region.lat,\n  captureDrag: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }\n}, __jsx(\"svg\", {\n  onClick: onClick,\n  style: {\n    cursor: 'pointer',\n    fill: '#d00',\n    stroke: 'none',\n    width: width * 2 + 10,\n    height: width * 2 + 10,\n    transform: `translate(${-width / 2}px,${-width}px)`\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 9\n  }\n}, __jsx(\"circle\", {\n  cx: width + 5,\n  cy: width + 5,\n  r: width,\n  fill: \"red\",\n  strokeWidth: selected ? 3 : 0,\n  stroke: selected ? \"orange\" : \"red\",\n  style: {\n    fillOpacity: opacity(region.totalDeaths)\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 13\n  }\n})));\n\nexport async function getStaticProps() {\n  const res = await fetch('https://bing.com/covid/data');\n  const data = await res.json();\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default React.memo(HomePage);","map":{"version":3,"sources":["/Users/DEV/Desktop/covidweb/pages/index.tsx"],"names":["React","useState","useMemo","fetch","Layout","dayjs","ReactMapGL","Marker","getPopulation","codes","radius","opa","op","opacity","MAPBOX_TOKEN","HomePage","data","showPopup","setShowPopup","visible","location","type","setType","viewport","setViewport","width","height","latitude","longitude","zoom","display","flexDirection","color","position","padding","background","lastUpdated","format","justifyContent","margin","paddingLeft","paddingRight","overflowY","scrollBehavior","List","sorted","areas","sort","a","b","totalConfirmed","slice","totalDeaths","total","length","map","area","alignItems","borderRadius","overflow","displayName","objectFit","toLocaleString","LocationDetails","top","left","backgroundColor","zIndex","country","region","flex","fontSize","Number","toFixed","totalRecovered","RenderCountries","RenderCities","c","RedBubbleMarker","onClick","selected","long","lat","cursor","fill","stroke","transform","fillOpacity","getStaticProps","res","json","props","memo"],"mappings":"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","sourcesContent":["//@ts-ignore\n\nimport React, { useState, useMemo, useEffect } from 'react'\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../components/Layout'\nimport Link from 'next/link'\nimport dayjs from 'dayjs'\nimport ReactMapGL, { Marker, Popup, StaticMap } from 'react-map-gl';\nimport { getPopulation } from '../assests/countries'\nimport Chart from '../components/Chart'\nimport codes from '../assests/codes'\ninterface API {\n    id: string;\n    displayName: string;\n    areas: API[];\n    totalConfirmed: number;\n    totalDeaths: number;\n    totalRecovered: number;\n    totalRecoveredDelta: number;\n    totalDeathsDelta: number;\n    totalConfirmedDelta: number;\n    lastUpdated: Date;\n    lat?: number;\n    long?: number;\n}\n\ninterface IProps {\n    data: API\n}\n\nconst radius = (opa) => {\n    let op = (opa) / 200\n\n    if (op > 100) {\n        op = 100\n    }\n    if (op < 20) {\n        op *= 3\n    }\n    return op\n}\n\nconst opacity = (opa) => {\n    let op = (opa) / 200\n    if (op < 0.3) {\n        op = 0.3\n    }\n    return op\n}\n\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoibWFydGlzOTAwIiwiYSI6ImNrMTZtazN4ODBhNGUzbW1yc245dG9nZzYifQ.T2ImKPTOuImP5pW11SXoWg';\n\nfunction HomePage({ data }: IProps) {\n    const [showPopup, setShowPopup]: any = useState({ visible: false, location: null })\n    const [type, setType] = useState<'Infected' | 'Deaths' | 'Recovered'>(\"Infected\")\n    const [viewport, setViewport] = useState({\n        width: 400,\n        height: 400,\n        latitude: 37.7577,\n        longitude: -122.4376,\n        zoom: 8\n    });\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n            <Layout>\n                <div style={{ color: 'white', flexDirection: 'row', display: 'flex', height: '100%' }}>\n                    <div style={{ display: 'flex', position: 'relative', height: 'calc(100vh - 112px)' }}>\n                        {showPopup.visible === true && <LocationDetails showPopup={showPopup} />}\n\n                        <ReactMapGL\n                            {...viewport}\n                            width=\"80vw\"\n                            height='calc(100vh - 112px)'\n                            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n                            onViewportChange={setViewport}\n                            mapboxApiAccessToken={MAPBOX_TOKEN}\n                            onClick={() => setShowPopup({ visible: false, location: null })}\n                        >\n                            <RenderCountries data={data} showPopup={showPopup} setShowPopup={setShowPopup} />\n                            <RenderCities data={data} showPopup={showPopup} setShowPopup={setShowPopup} />\n                        </ReactMapGL>\n                    </div>\n                </div>\n            </Layout>\n            <div style={{ height: 'calc(100vh - 41px)', width: '100%', padding: 20, display: 'flex', flexDirection: 'column', background: 'rgb(34,37,41)' }}>\n                <p>LAST UPDATED - <b>{dayjs(data?.lastUpdated).format('YYYY-MM-DD HH:mm:ss')}</b></p>\n\n                <span style={{ justifyContent: 'space-around', width: '100%', display: 'flex' }}>\n                    <button onClick={() => setType(\"Infected\")}>Infected</button>\n                    <button onClick={() => setType(\"Deaths\")}>Deaths</button>\n                    <button onClick={() => setType(\"Recovered\")}>Recovered</button>\n                </span>\n                <ul style={{ margin: 0, paddingLeft: 30, paddingRight: 30, height: '100%', overflowY: 'scroll', scrollBehavior: 'smooth', display: 'flex', flexDirection: 'column' }}>\n                    <List data={data} type={type} />\n                </ul>\n            </div>\n        </div >\n    )\n}\n\nfunction List({ data, type }: any) {\n\n\n    function sorted() {\n        if (type === \"Infected\") {\n            return data.areas.sort((a: API, b: API) => b.totalConfirmed - a.totalConfirmed).slice(0, 10);\n        }\n        else if (type === \"Deaths\") {\n            return data.areas.sort((a: API, b: API) => b.totalDeaths - a.totalDeaths).slice(0, 10);\n        }\n        else if (type === \"Recovered\") {\n            return data.areas.sort((a: API, b: API) => b.total - a.totalConfirmed).slice(0, 10);\n        }\n    }\n\n    if (sorted.length > 0) return null\n    return sorted().map((area: API) => (\n        <li style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n            <div style={{ borderRadius: '50%', width: 20, height: 20, overflow: 'hidden', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <img src={`https://www.countryflags.io/${codes(area.displayName) || 'us'}/shiny/64.png`} alt=\"123\" style={{ width: '160%', height: '160%', objectFit: 'cover', borderRadius: '50%' }} />\n            </div>\n            <h5 style={{ paddingLeft: 15, color: 'grey', margin: '0 auto 0 0' }}>{area.displayName}</h5>\n            <h5 style={{ color: 'white' }}>{area.totalConfirmed.toLocaleString('en-US')}</h5>\n        </li>\n    ))\n}\n\nconst LocationDetails = ({ showPopup }: any) => (\n    <div style={{\n        width: 400,\n        height: 200,\n        position: 'absolute',\n        top: 25,\n        left: 25,\n        backgroundColor: 'white',\n        zIndex: 99999999,\n        padding: 15,\n        borderRadius: 8\n    }}>\n        {showPopup.country === true ? <h3 style={{ color: 'black' }}>{showPopup.region.displayName}</h3> : <span style={{ color: 'black', display: 'flex', flexDirection: 'row', alignItems: 'center' }}><h3>{showPopup.region.displayName} </h3> <label style={{ paddingLeft: 8 }}>{showPopup.country}</label></span>}\n        {showPopup.country === true && <p style={{ flex: 1, color: 'black', fontSize: 12 }}><b>Population:</b>  {getPopulation(showPopup.region.displayName).toLocaleString('en-US')}</p>}\n        {showPopup.country === true && <h3 style={{ flex: 1, color: 'black', fontSize: 12 }}><b>Population:</b>  {Number((showPopup.region.totalConfirmed * 100) / getPopulation(showPopup.region.displayName)).toFixed(2)}%</h3>}\n        <p style={{ flex: 1, color: 'rgb(252,184,44)', fontSize: 12 }}><b>Confirmed:</b>  {showPopup.region.totalConfirmed?.toLocaleString('en-US') ?? 0}</p>\n        <p style={{ flex: 1, color: 'rgb(50,203,111)', fontSize: 12 }}><b>Recovered:</b>{showPopup.region.totalRecovered?.toLocaleString('en-US') ?? 0}</p>\n        <p style={{ flex: 1, color: 'red', fontSize: 12 }}><b>Deaths:</b> {showPopup.region.totalDeaths?.toLocaleString('en-US') ?? 0}</p>\n    </div>\n)\n\nconst RenderCountries = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return useMemo(() => {\n        return data.areas.map(region => {\n            return <RedBubbleMarker key={region.displayName} width={10} region={region} onClick={() => setShowPopup({ visible: true, region, country: true })} selected={region.displayName === showPopup.region?.displayName} />\n        })\n    }, [data, showPopup])\n}\n\nconst RenderCities = ({ data, showPopup, setShowPopup }: { data: any, showPopup?: any, setShowPopup?: any }) => {\n    return useMemo(() => {\n        return data.areas.map(c => {\n            return c.areas.map(region => {\n                return <RedBubbleMarker key={region.displayName} width={5} region={region} onClick={() => setShowPopup({ visible: true, region, country: c.displayName })} selected={region.displayName === showPopup.region?.displayName} />\n\n            })\n        })\n    }, [data, showPopup])\n}\n\n\n\nconst RedBubbleMarker = ({ width, region, onClick, selected }: { width: number, region: API, onClick: () => void, selected: boolean }) => (\n    <Marker key={region.displayName} longitude={region.long} latitude={region.lat} captureDrag={false}>\n        <svg onClick={onClick}\n            style={{\n                cursor: 'pointer',\n                fill: '#d00',\n                stroke: 'none',\n                width: (width * 2) + 10,\n                height: (width * 2) + 10,\n                transform: `translate(${-width / 2}px,${-width}px)`\n            }}>\n            <circle cx={width + 5} cy={width + 5} r={width} fill={\"red\"} strokeWidth={selected ? 3 : 0} stroke={selected ? \"orange\" : \"red\"} style={{ fillOpacity: opacity(region.totalDeaths) }} />\n        </svg>\n    </Marker>\n)\n\nexport async function getStaticProps() {\n    const res = await fetch('https://bing.com/covid/data');\n    const data = await res.json()\n    return { props: { data } }\n}\n\nexport default React.memo(HomePage)"]},"metadata":{},"sourceType":"module"}