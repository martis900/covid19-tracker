{"version":3,"file":"static/webpack/static/development/pages/index.js.ec14b2ba66f7397a12cd.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { render } from 'react-dom';\n\nimport DeckGL, { TileLayer, BitmapLayer } from 'deck.gl';\n\nexport const INITIAL_VIEW_STATE = {\n    latitude: 47.65,\n    longitude: 7,\n    zoom: 4.5,\n    maxZoom: 20,\n    bearing: 0\n};\n\n// https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Tile_servers\nconst tileServer = 'https://c.tile.openstreetmap.org/';\n\nexport class App extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this._onHover = this._onHover.bind(this);\n        this._renderTooltip = this._renderTooltip.bind(this);\n    }\n\n    _onHover({ x, y, sourceLayer, tile }) {\n        this.setState({ x, y, hoveredObject: { sourceLayer, tile } });\n    }\n\n    _renderTooltip() {\n        const { x, y, hoveredObject } = this.state;\n        const { sourceLayer, tile } = hoveredObject || {};\n        return (\n            sourceLayer &&\n            tile && (\n                <div className=\"tooltip\" style={{ left: x, top: y }}>\n                    tile: x: {tile.x}, y: {tile.y}, z: {tile.z}\n                </div>\n            )\n        );\n    }\n\n    _renderLayers() {\n        const { autoHighlight = true, highlightColor = [60, 60, 60, 40] } = this.props;\n\n        return [\n            new TileLayer({\n                pickable: true,\n                onHover: this._onHover,\n                autoHighlight,\n                highlightColor,\n                opacity: 1,\n                // https://wiki.openstreetmap.org/wiki/Zoom_levels\n                minZoom: 0,\n                maxZoom: 19,\n\n                renderSubLayers: props => {\n                    const { x, y, z, bbox } = props.tile;\n                    const { west, south, east, north } = bbox;\n\n                    return new BitmapLayer(props, {\n                        image: `${tileServer}/${z}/${x}/${y}.png`,\n                        bounds: [west, south, east, north]\n                    });\n                }\n            })\n        ];\n    }\n\n    render() {\n        const { viewState, controller = true } = this.props;\n\n        return (\n            <DeckGL\n                layers={this._renderLayers()}\n                initialViewState={INITIAL_VIEW_STATE}\n                viewState={viewState}\n                controller={controller}\n            >\n                {this._renderTooltip}\n            </DeckGL>\n        );\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAQA;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAJA;AAKA;AACA;AAPA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAvBA;AAAA;AAAA;AAyBA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAFA;AAIA;AAlBA;AAqBA;AAlDA;AAAA;AAAA;AAoDA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAjEA;AACA;AADA;AAAA;;;;A","sourceRoot":""}